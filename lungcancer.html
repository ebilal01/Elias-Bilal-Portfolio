<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elias Bilal Portfolio</title>
    <link rel="stylesheet" type="text/css" href="/static/css/dtyle.css">
     <!-- Include Select2 CSS -->
     <link rel="icon" type="image/x-icon" href="data:image/x-icon;,">
</head>
<body>
  <header>
    <h3>Elias Bilal</h3>
    <h6>Mechanical Engineer</h6>
    <nav>
            <ul class="nav_links">
        <li><h67><a href="index.html">About Me</a></h67></li>
        <li><h67><a href="engineering.html">Engineering</a></h67></li>
        <li><h67><a href="art.html">Art</a></h67></li>
    </ul>
        </nav>
        <div class="contact-button">
            <button><a type="submit" onclick="location.href='contact.html'">Contact</a></button>
        </div>
  </header>
<style>
    h68 {
    color: black;
    font-size: 40px;
    font-family: "Rubik";
    line-height: .15;
} 
    h70 {
    color: black;
    font-size: 25px;
    font-family: "Rubik";
    line-height: .15;
} 
</style>
    <center><article><h68>How to Use</h68></article>
  <h70>Please select a smoking level, drinking level and sexuality from the drop down menus then type in the largest major city closest to you in the text input section with proper capitalization. Then click the "Run Python Code" button to have your data compared to real hospital patient data and your lung cancer probability calculated as either high, medium or low. 
  </h70></center>
  <center><form method="post" action="/submit">
   <article>
    <h10>Smoking level: (1-8 with 8 representing a heavy smoker)</h10>
    <select name="smoking_level">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
    </select>
    </article>
    <article>
      <h10>Sex: (Man or Woman) </h10>
      <select name="gender">
        <option value="1">Man</option>
        <option value="2">Woman</option>
      </select>
  </article>
    <article>
    <h10>Alcohol Use level: (1-6 with 6 representing a heavy drinker)</h10>
    <select name="alcohol_use" placeholder="Alcohol Use level (1-6 with 6 representing a heavy drinker)">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
    </select>
    </article>
    <article>
      <form id="cityForm">
        <article>
          <h10>Type the Largest Major City closest to you</h10>
          <input type="text" name="city" placeholder="Type Here">
            </article>
            <script>
              document.querySelector('form').addEventListener('submit', async function(event) {
                  event.preventDefault(); // Prevent the default form submission
          
                  // Serialize form data into JSON format
                  const formData = new FormData(this);
                  const jsonData = {};
                  formData.forEach((value, key) => {
                      jsonData[key] = value;
                  });
          
                  // Send a POST request to the FastAPI endpoint with JSON data
                  const response = await fetch('https://elias-bilal-portfolio-2.onrender.com/submit', {
                      method: 'POST',
                      body: JSON.stringify(jsonData),
                      headers: {
                          'Content-Type': 'application/json'
                      }
                  });
          
                  // Update the result div with the received result
                  const resultText = await response.text();
                  document.getElementById('result').innerText = resultText;
              });
          </script>
    <article>
    <button type="submit">Run Python Code</button>
    </article>
  </form>
  <center><div id="result">Waiting for result...</div></center> <!-- This is the result section -->
  <center><article><h68>About the Data</h68></article>
  <h70>The data used in the Lung Cancer Probability calcuation is from a website called <a href="https://www.kaggle.com/" target="_self">
    Kaggle</a>, an online Machine Learning and Data Science Platform under Google. The input data is compared to <a href="https://www.kaggle.com/datasets/thedevastator/cancer-patients-and-air-pollution-a-new-link" target="_self">
      actual Lung Cancer probability results</a> from 1000 patients. The user's Air Pollution Exposure Level is calculated from a <a href="https://www.kaggle.com/datasets/thedevastator/cancer-patients-and-air-pollution-a-new-link" target="_self">csv file containing airpollution levels</a> of 3796 cities from around the world. The data was organized and accessed using Numpy and Pandas. With that data the user is matched with patients who share the same Sex, Alcohol Use Level, Smoking Level, and Air Pollution Exposure Level via filtering; then the probabilty results of those patients were averaged and a result response is generated for the program user. 
  </h70></center>

      <center><article><h68>Graphs</h68></article>
  <h70>The graphs below show the correlation between either drinking, smoking, or air pollution levels and lung cancer probability. From the Kaggle data set used in the calculations, drinking level and smoking level had the most linear correlation with lung cancer risk meaning the more an individual smokes or drinks their lung cancer risk increases. Airquality had a looser correlation with lung cancer risk however the overall trend of the data showed it does play a factor in lung cancer probability. 
  </h70></center>

<center><article>
  <img src="https://raw.githubusercontent.com/ebilal01/Elias-Bilal-Portfolio/main/static/graphs/smoking_prob.png" alt="Smoking Probability">
</article>
<article>
  <img src="https://raw.githubusercontent.com/ebilal01/Elias-Bilal-Portfolio/main/static/graphs/drinking_prob.png" alt="Drinking Probability">
</article>
  <article>
  <img src="https://raw.githubusercontent.com/ebilal01/Elias-Bilal-Portfolio/main/static/graphs/Air_Qual_prob.png" alt="Air Quality Probability">
</article></center>

</body>
</html>










